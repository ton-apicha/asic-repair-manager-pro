#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Type checking - Backend
echo "ğŸ“¦ Checking TypeScript types in backend..."
cd backend
if ! npm run build > /dev/null 2>&1; then
  echo "âŒ Backend type check failed!"
  echo "Please fix TypeScript errors before committing."
  exit 1
fi
cd ..

# Type checking - Frontend
echo "ğŸ“¦ Checking TypeScript types in frontend..."
cd frontend
if ! npm run build > /dev/null 2>&1; then
  echo "âŒ Frontend type check failed!"
  echo "Please fix TypeScript errors before committing."
  exit 1
fi
cd ..

echo "âœ… All pre-commit checks passed!"

